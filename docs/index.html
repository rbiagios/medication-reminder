<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Medication Reminder (Demo)</title>
<style>
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f8f8f8;
        color: #333;
    }
    header {
        background-color: gold;
        color: black;
        padding: 10px;
        text-align: center;
        font-weight: bold;
        width: 100%;
        box-sizing: border-box;
    }
    h1 {
        background-color: lightgreen;
        color: black;
        margin: 0;
        padding: 10px;
        text-align: center;
    }
    .container {
        padding: 15px;
    }
    input, button {
        padding: 8px;
        margin: 5px 0;
        font-size: 1em;
    }
    button {
        cursor: pointer;
    }
    .reminder {
        background: white;
        padding: 10px;
        margin: 8px 0;
        border-radius: 6px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .reminder span {
        flex: 1;
    }
    .reminder button {
        margin-left: 5px;
    }
    .dark-mode {
        background-color: #222;
        color: white;
    }
    .dark-mode .reminder {
        background-color: #444;
        color: white;
    }
    #toggleDark {
        position: absolute;
        top: 60px; /* Lowered so it‚Äôs into the green */
        right: 10px;
        padding: 5px 10px;
    }
    .edit-mode {
        background-color: #d0ebff !important; /* Light blue for edit mode */
    }
</style>
</head>
<body>
    <header>
        Demo Only: This app is for demonstration purposes only and not for actual medical use.  
        Do not rely on it for real medication reminders.
    </header>
    <h1>MEDICATION REMINDER (DEMO)</h1>
    <button id="toggleDark">Toggle Dark</button>

    <div class="container">
        <input type="text" id="medication" placeholder="Medication name" />
        <input type="time" id="time" />
        <button id="addBtn">Add Reminder</button>

        <div id="reminderList"></div>
    </div>

<script>
    const medInput = document.getElementById('medication');
    const timeInput = document.getElementById('time');
    const addBtn = document.getElementById('addBtn');
    const reminderList = document.getElementById('reminderList');
    const toggleDark = document.getElementById('toggleDark');

    let reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
    let editIndex = -1;

    function saveReminders() {
        localStorage.setItem('reminders', JSON.stringify(reminders));
    }

    function formatTime(time) {
        let [hour, minute] = time.split(':');
        hour = parseInt(hour, 10);
        const ampm = hour >= 12 ? 'PM' : 'AM';
        hour = hour % 12 || 12;
        return `${hour}:${minute} ${ampm}`;
    }

    function renderReminders() {
        reminderList.innerHTML = '';
        reminders.forEach((reminder, index) => {
            const div = document.createElement('div');
            div.className = 'reminder';
            div.innerHTML = `<span>üíä ${reminder.name} - ${formatTime(reminder.time)}</span>
                <button onclick="editReminder(${index})">‚úèÔ∏è Edit</button>
                <button onclick="deleteReminder(${index})">‚ùå Delete</button>`;
            reminderList.appendChild(div);
        });
    }

    function addOrUpdateReminder() {
        const name = medInput.value.trim();
        const time = timeInput.value;
        if (!name || !time) return;

        if (editIndex > -1) {
            reminders[editIndex] = { name, time };
            editIndex = -1;
            medInput.classList.remove('edit-mode');
            timeInput.classList.remove('edit-mode');
            addBtn.textContent = 'Add Reminder';
        } else {
            reminders.push({ name, time });
        }
        saveReminders();
        renderReminders();
        medInput.value = '';
        timeInput.value = '';
    }

    function editReminder(index) {
        medInput.value = reminders[index].name;
        timeInput.value = reminders[index].time;
        editIndex = index;
        medInput.classList.add('edit-mode');
        timeInput.classList.add('edit-mode');
        addBtn.textContent = 'Update Reminder';
    }

    function deleteReminder(index) {
        reminders.splice(index, 1);
        saveReminders();
        renderReminders();
    }

    toggleDark.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
    });

    addBtn.addEventListener('click', addOrUpdateReminder);

    renderReminders();
</script>
</body>
</html>