<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Medication Reminder (Demo)</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
      padding: 20px;
      background-color: white;
      color: black;
    }
    .disclaimer {
      background: #ffdddd;
      border: 1px solid red;
      padding: 10px;
      margin-bottom: 20px;
      font-size: 0.9em;
      color: #800000;
    }
  </style>
  <!-- App Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icons/icon-512.png">

  <!-- For Apple devices (optional but recommended) -->
  <link rel="apple-touch-icon" sizes="192x192" href="icons/icon-192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="icons/icon-512.png">
</head>
<body>
  <!-- Disclaimer -->
  <div class="disclaimer">
    ⚠️ <strong>Demo Only:</strong> This app is for demonstration purposes only and not for actual medical use. 
    Do not rely on it for real medication reminders.
  </div>

  <h1>Medication Reminder (Demo)</h1>

  <label>Medication Name:</label>
  <input type="text" id="medName" placeholder="Enter medication name"><br><br>

  <label>Time:</label>
  <input type="time" id="medTime"><br><br>

  <button id="addBtn">Add Reminder</button>

  <h2>Reminders:</h2>
  <ul id="reminderList"></ul>

  <script>
    // Load saved reminders from localStorage
    const reminderList = document.getElementById("reminderList");
    const reminders = JSON.parse(localStorage.getItem("reminders_demo")) || [];

    function renderReminders() {
      reminderList.innerHTML = "";
      reminders.forEach((reminder, index) => {
        const li = document.createElement("li");
        li.textContent = `${reminder.name} at ${reminder.time}`;
        reminderList.appendChild(li);
      });
    }

    document.getElementById("addBtn").addEventListener("click", () => {
      const name = document.getElementById("medName").value.trim();
      const time = document.getElementById("medTime").value;
      if (!name || !time) return;
      reminders.push({ name, time });
      localStorage.setItem("reminders_demo", JSON.stringify(reminders));
      renderReminders();
      document.getElementById("medName").value = "";
      document.getElementById("medTime").value = "";
    });

    renderReminders();

    // Register service worker for PWA
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("service-worker.js")
        .then(() => console.log("Service Worker Registered"))
        .catch(err => console.error("SW registration failed:", err));
    }
  </script>
</body>
</html>