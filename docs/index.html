<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Medication Reminder (Demo)</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f8f8f8;
    color: #333;
  }

  header {
    background-color: gold;
    color: black;
    padding: 10px;
    text-align: center;
    font-weight: bold;
    width: 100%;
    box-sizing: border-box;
  }

  h1 {
    background-color: lightgreen;
    color: black;
    margin: 0;
    padding: 10px;
    text-align: center;
  }

  .container {
    display: flex;
    flex-direction: column;
    padding: 15px;
    gap: 10px;
    align-items: center;
  }

  .input-row {
    display: flex;
    flex-wrap: wrap;
    gap: 10px; /* space between inputs and button */
    justify-content: center;
    width: 100%;
    max-width: 600px;
  }

  input {
    padding: 10px;
    font-size: 1em;
    border-radius: 6px;
    border: 2px solid #ccc;
    min-height: 44px;
    box-sizing: border-box;
    flex: 1 1 150px;
  }

  input[type="time"] {
    box-shadow: 0 1px 3px rgba(0,0,0,0.15);
    background-color: white;
    color: #000;
  }

  body.dark-mode input[type="time"] {
    background-color: #333;
    color: #fff;
    border: 2px solid #555;
    box-shadow: 0 1px 3px rgba(0,0,0,0.4);
  }

  button {
    padding: 12px 15px;
    font-size: 1em;
    border-radius: 6px;
    cursor: pointer;
    box-sizing: border-box;
    flex: 0 0 auto;
  }

  #toggleDark {
    position: fixed;
    top: 60px;
    right: 10px;
    z-index: 1000;
    padding: 8px 12px;
    border-radius: 6px;
    background-color: lightgray;
  }

  @media (orientation: landscape) {
    #toggleDark {
      top: auto;
      bottom: 10px;
    }
  }

  .reminder {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: white;
    padding: 10px;
    margin: 5px 0;
    border-radius: 6px;
    width: 100%;
    max-width: 600px;
    box-sizing: border-box;
  }

  .reminder span {
    font-size: 1em;
    margin-right: 15px; /* added space between text and buttons */
    flex: 1;
  }

  .reminder button {
    padding: 8px 12px;
    margin-left: 5px;
  }

  .dark-mode {
    background-color: #222;
    color: white;
  }

  .dark-mode .reminder {
    background-color: #444;
    color: white;
  }

  .edit-mode {
    background-color: #d0ebff !important;
  }
</style>
</head>
<body>
<header>
  Demo Only: This app is for demonstration purposes only and not for actual medical use.  
  Do not rely on it for real medication reminders.
</header>
<h1>MEDICATION REMINDER (DEMO)</h1>
<button id="toggleDark">Toggle Dark</button>

<div class="container">
  <div class="input-row">
    <input type="text" id="medication" placeholder="Medication name" />
    <input type="time" id="time" />
    <button id="addBtn">Add Reminder</button>
  </div>
  <div id="reminderList"></div>
</div>

<script>
  const medInput = document.getElementById('medication');
  const timeInput = document.getElementById('time');
  const addBtn = document.getElementById('addBtn');
  const reminderList = document.getElementById('reminderList');
  const toggleDark = document.getElementById('toggleDark');

  let reminders = JSON.parse(localStorage.getItem('reminders') || '[]');
  let editIndex = -1;

  function saveReminders() {
    localStorage.setItem('reminders', JSON.stringify(reminders));
  }

  function formatTime(time) {
    let [hour, minute] = time.split(':');
    hour = parseInt(hour, 10);
    const ampm = hour >= 12 ? 'PM' : 'AM';
    hour = hour % 12 || 12;
    return `${hour}:${minute} ${ampm}`;
  }

  function renderReminders() {
    reminderList.innerHTML = '';
    reminders.forEach((reminder, index) => {
      const div = document.createElement('div');
      div.className = 'reminder';
      div.innerHTML = `
        <span>üíä ${reminder.name} - ${formatTime(reminder.time)}</span>
        <div>
          <button onclick="editReminder(${index})">‚úèÔ∏è Edit</button>
          <button onclick="deleteReminder(${index})">‚ùå Delete</button>
        </div>
      `;
      reminderList.appendChild(div);
    });
  }

  function addOrUpdateReminder() {
    const name = medInput.value.trim();
    const time = timeInput.value;
    if (!name || !time) return;

    if (editIndex > -1) {
      reminders[editIndex] = { name, time };
      editIndex = -1;
      medInput.classList.remove('edit-mode');
      timeInput.classList.remove('edit-mode');
      addBtn.textContent = 'Add Reminder';
    } else {
      reminders.push({ name, time });
    }
    saveReminders();
    renderReminders();
    medInput.value = '';
    timeInput.value = '';
  }

  function editReminder(index) {
    medInput.value = reminders[index].name;
    timeInput.value = reminders[index].time;
    editIndex = index;
    medInput.classList.add('edit-mode');
    timeInput.classList.add('edit-mode');
    addBtn.textContent = 'Update Reminder';
  }

  function deleteReminder(index) {
    reminders.splice(index, 1);
    saveReminders();
    renderReminders();
  }

  toggleDark.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
  });

  addBtn.addEventListener('click', addOrUpdateReminder);

  renderReminders();
</script>
</body>
</html>